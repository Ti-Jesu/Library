{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"AdminModule\",(function(){return U}));var o=r(\"3Pt+\"),s=r(\"ofXK\"),a=r(\"fXoL\"),n=r(\"FnMX\"),b=r(\"tyNb\");function i(e,t){if(1&e&&(a.Lb(0,\"tr\"),a.Lb(1,\"th\",5),a.fc(2,\"- \"),a.Kb(),a.Lb(3,\"td\"),a.Lb(4,\"a\",6),a.fc(5,\" Update \"),a.Kb(),a.Kb(),a.Lb(6,\"td\"),a.Lb(7,\"a\",6),a.fc(8,\"Delete \"),a.Kb(),a.Kb(),a.Lb(9,\"td\"),a.fc(10),a.Kb(),a.Lb(11,\"td\"),a.fc(12),a.Kb(),a.Lb(13,\"td\"),a.fc(14),a.Kb(),a.Lb(15,\"td\"),a.fc(16),a.Kb(),a.Kb()),2&e){const e=t.$implicit;a.xb(4),a.Wb(\"routerLink\",\"update-user/\",e._id,\"\"),a.xb(3),a.Wb(\"routerLink\",\"delete-user/\",e._id,\"\"),a.xb(3),a.gc(e.firstname),a.xb(2),a.gc(e.lastname),a.xb(2),a.gc(e.email),a.xb(2),a.gc(e.password)}}let c=(()=>{class e{constructor(e){this.usersService=e}ngOnInit(){this.usersService.viewUsers().subscribe(e=>{this.userList=e})}}return e.\\u0275fac=function(t){return new(t||e)(a.Hb(n.a))},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-view-all-users\"]],decls:21,vars:1,consts:[[2,\"color\",\"#3FB6FA\"],[1,\"table\"],[1,\"\"],[\"scope\",\"col\"],[4,\"ngFor\",\"ngForOf\"],[\"scope\",\"row\"],[3,\"routerLink\"]],template:function(e,t){1&e&&(a.Lb(0,\"h2\",0),a.fc(1,\"All Users\"),a.Kb(),a.Lb(2,\"table\",1),a.Lb(3,\"thead\",2),a.Lb(4,\"tr\"),a.Lb(5,\"th\",3),a.fc(6,\"#\"),a.Kb(),a.Lb(7,\"th\",3),a.fc(8,\"Update\"),a.Kb(),a.Lb(9,\"th\",3),a.fc(10,\"Delete\"),a.Kb(),a.Lb(11,\"th\",3),a.fc(12,\"First Name\"),a.Kb(),a.Lb(13,\"th\",3),a.fc(14,\"Last Name\"),a.Kb(),a.Lb(15,\"th\",3),a.fc(16,\"E-mail\"),a.Kb(),a.Lb(17,\"th\",3),a.fc(18,\"Password\"),a.Kb(),a.Kb(),a.Kb(),a.Lb(19,\"tbody\"),a.dc(20,i,17,6,\"tr\",4),a.Kb(),a.Kb()),2&e&&(a.xb(20),a.Ub(\"ngForOf\",t.userList))},directives:[s.i,b.c],styles:[\"\"]}),e})();var l=r(\"uI04\");function d(e,t){if(1&e&&(a.Lb(0,\"tr\"),a.Lb(1,\"th\",3),a.fc(2,\"-\"),a.Kb(),a.Lb(3,\"td\"),a.Lb(4,\"a\",4),a.fc(5,\" update \"),a.Kb(),a.Kb(),a.Lb(6,\"td\"),a.Lb(7,\"a\",5),a.fc(8,\" delete \"),a.Kb(),a.Kb(),a.Lb(9,\"td\"),a.fc(10),a.Kb(),a.Kb()),2&e){const e=t.$implicit;a.xb(4),a.Wb(\"href\",\"update-book/\",e._id,\" \",a.bc),a.xb(3),a.Wb(\"routerLink\",\"delete-book/\",e._id,\" \"),a.xb(3),a.hc(\" \",e.bookName,\" \")}}let u=(()=>{class e{constructor(e){this.booksService=e}ngOnInit(){this.booksService.getAllBooks().subscribe(e=>{this.BookList=e})}}return e.\\u0275fac=function(t){return new(t||e)(a.Hb(l.a))},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-view-books\"]],decls:13,vars:1,consts:[[1,\"table\"],[\"scope\",\"col\"],[4,\"ngFor\",\"ngForOf\"],[\"scope\",\"row\"],[3,\"href\"],[3,\"routerLink\"]],template:function(e,t){1&e&&(a.Lb(0,\"table\",0),a.Lb(1,\"thead\"),a.Lb(2,\"tr\"),a.Lb(3,\"th\",1),a.fc(4,\"#\"),a.Kb(),a.Lb(5,\"th\",1),a.fc(6,\"update Book\"),a.Kb(),a.Lb(7,\"th\",1),a.fc(8,\"Delete Book\"),a.Kb(),a.Lb(9,\"th\",1),a.fc(10,\"Book Name\"),a.Kb(),a.Kb(),a.Kb(),a.Lb(11,\"tbody\"),a.dc(12,d,11,3,\"tr\",2),a.Kb(),a.Kb()),2&e&&(a.xb(12),a.Ub(\"ngForOf\",t.BookList))},directives:[s.i,b.c],styles:[\"\"]}),e})();var m=r(\"hAaW\"),f=r(\"nlyS\"),p=r(\"Sy1n\");let g=(()=>{class e{constructor(e,t,r,o){this.activatedRoute=e,this.usersService=t,this.notify=r,this.router=o,this.userId=0}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.userId=e.id,this.usersService.viewUser(this.userId).subscribe(e=>{this.userDetails=e,console.log(this.userDetails)})})}updateUser(e){console.log(e),this.usersService.updateUser(this.userId,{id:e.value.id,firstname:e.value.first_name,lastname:e.value.last_name,password:e.value.user_password,email:e.value.user_email}).subscribe(e=>{console.log(e),localStorage.getItem(\"fname\"),1==e.status?(this.notify.sendSuccess(e.message,\"Header\"),this.router.navigate([\"admin\"])):this.notify.sendError(e.message),console.log(e)})}}return e.\\u0275fac=function(t){return new(t||e)(a.Hb(b.a),a.Hb(n.a),a.Hb(p.a),a.Hb(b.b))},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-update-user\"]],decls:24,vars:4,consts:[[1,\"\",2,\"color\",\"#3FB6FA\"],[3,\"submit\"],[\"updateUserForm\",\"ngForm\"],[1,\"form-row\"],[1,\"col-md-6\",\"mb-3\"],[\"for\",\"validationServer01\"],[\"type\",\"text\",\"required\",\"\",\"name\",\"first_name\",\"ngModel\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"for\",\"validationServer02\"],[\"type\",\"text\",\"required\",\"\",\"name\",\"last_name\",\"ngModel\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"for\",\"validationServer03\"],[\"type\",\"text\",\"required\",\"\",\"name\",\"user_password\",\"ngModel\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"for\",\"validationServer04\"],[\"type\",\"text\",\"required\",\"\",\"name\",\"user_email\",\"ngModel\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"submit\",1,\"btn\",\"btn-primary\"]],template:function(e,t){if(1&e){const e=a.Mb();a.Lb(0,\"h2\",0),a.fc(1,\"Update user\"),a.Kb(),a.Lb(2,\"form\",1,2),a.Rb(\"submit\",(function(){a.ac(e);const r=a.Zb(3);return t.updateUser(r)})),a.Lb(4,\"div\",3),a.Lb(5,\"div\",4),a.Lb(6,\"label\",5),a.fc(7,\"First Name\"),a.Kb(),a.Lb(8,\"input\",6),a.Rb(\"ngModelChange\",(function(e){return t.userDetails.firstname=e})),a.Kb(),a.Kb(),a.Lb(9,\"div\",4),a.Lb(10,\"label\",7),a.fc(11,\"Last Name\"),a.Kb(),a.Lb(12,\"input\",8),a.Rb(\"ngModelChange\",(function(e){return t.userDetails.lastname=e})),a.Kb(),a.Kb(),a.Kb(),a.Lb(13,\"div\",3),a.Lb(14,\"div\",4),a.Lb(15,\"label\",9),a.fc(16,\" Password \"),a.Kb(),a.Lb(17,\"input\",10),a.Rb(\"ngModelChange\",(function(e){return t.userDetails.password=e})),a.Kb(),a.Kb(),a.Lb(18,\"div\",4),a.Lb(19,\"label\",11),a.fc(20,\"email\"),a.Kb(),a.Lb(21,\"input\",12),a.Rb(\"ngModelChange\",(function(e){return t.userDetails.email=e})),a.Kb(),a.Kb(),a.Kb(),a.Lb(22,\"button\",13),a.fc(23,\"Update form\"),a.Kb(),a.Kb()}2&e&&(a.xb(8),a.Ub(\"ngModel\",t.userDetails.firstname),a.xb(4),a.Ub(\"ngModel\",t.userDetails.lastname),a.xb(5),a.Ub(\"ngModel\",t.userDetails.password),a.xb(4),a.Ub(\"ngModel\",t.userDetails.email))},directives:[o.k,o.d,o.e,o.a,o.h,o.c,o.f],styles:[\"\"]}),e})();var h=r(\"pF+Y\"),L=r(\"iPWV\");let v=(()=>{class e{constructor(e,t,r){this.usersService=e,this.activatedRoute=t,this.router=r,this.userId=0}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.userId=e.id,this.usersService.deleteUser(this.userId).subscribe(e=>{console.log(this.userId)})})}goToPage(e){this.router.navigate([\"\"+e])}}return e.\\u0275fac=function(t){return new(t||e)(a.Hb(n.a),a.Hb(b.a),a.Hb(b.b))},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-delete-user\"]],decls:4,vars:0,consts:[[1,\"btn\",\"btn-primary\",3,\"click\"]],template:function(e,t){1&e&&(a.Lb(0,\"h2\"),a.fc(1,\"Account Deleted!\"),a.Kb(),a.Lb(2,\"button\",0),a.Rb(\"click\",(function(){return t.goToPage(\"admin\")})),a.fc(3,\" Dashboard \"),a.Kb())},styles:[\"\"]}),e})();var K=r(\"41nl\"),y=r(\"iv4X\"),w=r(\"tk/3\");let k=(()=>{class e{constructor(e){this.httpClient=e,this.baseUrl=\"http://localhost:3000/api\"}createCategory(e){return this.httpClient.post(this.baseUrl+\"/category\",e)}}return e.\\u0275fac=function(t){return new(t||e)(a.Pb(w.a))},e.\\u0275prov=a.Db({token:e,factory:e.\\u0275fac,providedIn:\"root\"}),e})(),S=(()=>{class e{constructor(e,t){this.categoryService=e,this.notify=t}ngOnInit(){}createCategory(e){if(console.log(e.value),null===localStorage.getItem(\"email\"))this.notify.sendError(\"please login\");else{var t=localStorage.getItem(\"email\"),r=localStorage.getItem(\"fname\");if(\"lavictor23@gmail.com\"!=t)return void this.notify.sendError(\"please login as the administrator\");this.notify.sendSuccess(r,\"\"),this.categoryService.createCategory({categoryName:e.value.category_name}).subscribe(e=>{this.notify.sendInfo(e.message)})}this.categoryService.createCategory({categoryName:e.value.category_name}).subscribe(e=>{})}}return e.\\u0275fac=function(t){return new(t||e)(a.Hb(k),a.Hb(p.a))},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-create-category\"]],decls:11,vars:0,consts:[[1,\"\",2,\"color\",\"#3FB6FA\"],[3,\"submit\"],[\"categoryForm\",\"ngForm\"],[1,\"form-group\"],[1,\"col-md-6\",\"mb-3\"],[\"for\",\"validationServer03\"],[\"type\",\"text\",\"value\",\"Enter Category\",\"required\",\"\",\"name\",\"category_name\",\"ngModel\",\"\",1,\"form-control\"],[\"type\",\"submit\",1,\"btn\",\"btn-primary\"]],template:function(e,t){if(1&e){const e=a.Mb();a.Lb(0,\"h2\",0),a.fc(1,\"Create Category Name\"),a.Kb(),a.Lb(2,\"form\",1,2),a.Rb(\"submit\",(function(){a.ac(e);const r=a.Zb(3);return t.createCategory(r)})),a.Lb(4,\"div\",3),a.Lb(5,\"div\",4),a.Lb(6,\"label\",5),a.fc(7,\"input a new Category\"),a.Kb(),a.Ib(8,\"input\",6),a.Kb(),a.Kb(),a.Lb(9,\"button\",7),a.fc(10,\"submit\"),a.Kb(),a.Kb()}},directives:[o.k,o.d,o.e,o.a,o.h,o.c,o.f],styles:[\"\"]}),e})(),I=(()=>{class e{constructor(e){this.httpClient=e,this.baseUrl=\"https://olibrary.azurewebsites.net/api\"}loginAdmin(e){return this.httpClient.post(this.baseUrl+\"/admin-login\",e)}}return e.\\u0275fac=function(t){return new(t||e)(a.Pb(w.a))},e.\\u0275prov=a.Db({token:e,factory:e.\\u0275fac,providedIn:\"root\"}),e})(),C=(()=>{class e{constructor(e,t,r){this.adminService=e,this.notify=t,this.router=r}ngOnInit(){}loginAdmin(e){console.log(e.value),this.adminService.loginAdmin({password:e.value.password,email:e.value.email}).subscribe(e=>{var t=localStorage.getItem(\"fname\");if(1==e.status){var r=e.data;\"Login success\"==e.message?(localStorage.setItem(\"logged_in\",\"true\"),localStorage.setItem(\"id\",r._id),localStorage.setItem(\"fname\",r.firstname),localStorage.setItem(\"email\",r.email),localStorage.setItem(\"lname\",r.lastname),this.notify.sendSuccess(e.message,t),this.router.navigate([\"admin\"])):this.notify.sendError(e.message)}else this.notify.sendError(e.message);console.log(e)})}}return e.\\u0275fac=function(t){return new(t||e)(a.Hb(I),a.Hb(p.a),a.Hb(b.b))},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-admin-login\"]],decls:15,vars:0,consts:[[1,\"\",2,\"color\",\"#3FB6FA\"],[3,\"submit\"],[\"loginAdminForm\",\"ngForm\"],[1,\"form-group\"],[1,\"col-md-6\",\"mb-3\"],[\"for\",\"validationServer04\"],[\"type\",\"text\",\"required\",\"\",\"name\",\"email\",\"ngModel\",\"\",1,\"form-control\"],[\"for\",\"validationServer03\"],[\"type\",\"text\",\"value\",\"Enter Password\",\"required\",\"\",\"name\",\"password\",\"ngModel\",\"\",1,\"form-control\"],[\"type\",\"submit\",1,\"btn\",\"btn-primary\"]],template:function(e,t){if(1&e){const e=a.Mb();a.Lb(0,\"h2\",0),a.fc(1,\"Admin Login\"),a.Kb(),a.Lb(2,\"form\",1,2),a.Rb(\"submit\",(function(){a.ac(e);const r=a.Zb(3);return t.loginAdmin(r)})),a.Lb(4,\"div\",3),a.Lb(5,\"div\",4),a.Lb(6,\"label\",5),a.fc(7,\"Email\"),a.Kb(),a.Ib(8,\"input\",6),a.Kb(),a.Lb(9,\"div\",4),a.Lb(10,\"label\",7),a.fc(11,\"Password\"),a.Kb(),a.Ib(12,\"input\",8),a.Kb(),a.Kb(),a.Lb(13,\"button\",9),a.fc(14,\"Login\"),a.Kb(),a.Kb()}},directives:[o.k,o.d,o.e,o.a,o.h,o.c,o.f],styles:[\"\"]}),e})();const M=[{path:\"\",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\\u0275fac=function(t){return new(t||e)},e.\\u0275cmp=a.Bb({type:e,selectors:[[\"app-admin\"]],decls:56,vars:0,consts:[[1,\"row\"],[1,\"col-sm-6\"],[1,\"card\"],[1,\"card-body\"],[1,\"card-title\"],[1,\"card-text\"],[\"routerLink\",\"create-user\",1,\"btn\",\"btn-primary\"],[\"routerLink\",\"view-users\",1,\"btn\",\"btn-primary\"],[\"routerLink\",\"create-book\",1,\"btn\",\"btn-primary\"],[\"href\",\"admin/view-books\",1,\"btn\",\"btn-primary\"],[\"href\",\"admin/create-category\",1,\"btn\",\"btn-primary\"],[\"href\",\"\",1,\"btn\",\"btn-primary\"]],template:function(e,t){1&e&&(a.Lb(0,\"div\",0),a.Lb(1,\"div\",1),a.Lb(2,\"div\",2),a.Lb(3,\"div\",3),a.Lb(4,\"h5\",4),a.fc(5,\"Create User\"),a.Kb(),a.Lb(6,\"p\",5),a.fc(7,\"Register new users\"),a.Kb(),a.Lb(8,\"a\",6),a.fc(9,\"Create User\"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(10,\"div\",1),a.Lb(11,\"div\",2),a.Lb(12,\"div\",3),a.Lb(13,\"h5\",4),a.fc(14,\"View Users\"),a.Kb(),a.Lb(15,\"p\",5),a.fc(16,\"View existing users\"),a.Kb(),a.Lb(17,\"a\",7),a.fc(18,\"View Users\"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(19,\"div\",0),a.Lb(20,\"div\",1),a.Lb(21,\"div\",2),a.Lb(22,\"div\",3),a.Lb(23,\"h5\",4),a.fc(24,\"Create Book\"),a.Kb(),a.Lb(25,\"p\",5),a.fc(26,\"Add new books\"),a.Kb(),a.Lb(27,\"a\",8),a.fc(28,\"Create Book\"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(29,\"div\",1),a.Lb(30,\"div\",2),a.Lb(31,\"div\",3),a.Lb(32,\"h5\",4),a.fc(33,\"View books\"),a.Kb(),a.Lb(34,\"p\",5),a.fc(35,\"Check the list of books\"),a.Kb(),a.Lb(36,\"a\",9),a.fc(37,\"View Books\"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(38,\"div\",1),a.Lb(39,\"div\",2),a.Lb(40,\"div\",3),a.Lb(41,\"h5\",4),a.fc(42,\"Create Category\"),a.Kb(),a.Lb(43,\"p\",5),a.fc(44,\"Add new category to the categories\"),a.Kb(),a.Lb(45,\"a\",10),a.fc(46,\"Create Category\"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(47,\"div\",1),a.Lb(48,\"div\",2),a.Lb(49,\"div\",3),a.Lb(50,\"h5\",4),a.fc(51,\"Home\"),a.Kb(),a.Lb(52,\"p\",5),a.fc(53,\"Home\"),a.Kb(),a.Lb(54,\"a\",11),a.fc(55,\"Home\"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb())},directives:[b.c],styles:[\"\"]}),e})()},{path:\"view-books\",component:u},{path:\"create-book\",component:f.a},{path:\"view-books/delete-book/:id\",component:L.a},{path:\"view-books/update-book/:id\",component:h.a},{path:\"category/:id\",component:y.a},{path:\"category/:id/book/:id\",component:m.a},{path:\"book/:id\",component:m.a},{path:\"create-user\",component:K.a},{path:\"view-users\",component:c},{path:\"view-users/delete-user/:id\",component:v},{path:\"view-users/update-user/:id\",component:g},{path:\"create-category\",component:S},{path:\"admin-login\",component:C}];let F=(()=>{class e{}return e.\\u0275mod=a.Fb({type:e}),e.\\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[b.d.forChild(M)],b.d]}),e})(),U=(()=>{class e{}return e.\\u0275mod=a.Fb({type:e}),e.\\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[s.b,F,o.b]]}),e})()}}]);","extractedComments":[]}